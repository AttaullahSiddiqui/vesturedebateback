<div class="row">
  <div class="col-md-10">
    <nb-card>
      <nb-card-header>Create Store</nb-card-header>
      <nb-card-body class="pr-3 pr-5">
        <form
          #addStoreForm="ngForm"
          [hidden]="!categories"
          novalidate
          (ngSubmit)="addStore(storeInfo)"
        >
          <div class="form-group row">
            <label for="offerBox" class="label col-sm-3 col-form-label"
              >Store Name</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                required
                name="name"
                [(ngModel)]="storeInfo.name"
              />
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-3 label">Heading</label>
            <div class="col-sm-9">
              <nb-select
                name="heading"
                required
                [(ngModel)]="storeInfo.heading"
              >
                <nb-option value="Promo codes & Coupons"
                  >Promo codes & Coupons</nb-option
                >
                <nb-option value="Coupons & Promo codes"
                  >Coupons & Promo codes</nb-option
                >
                <nb-option value="Voucher & Discount codes"
                  >Voucher & Discount codes</nb-option
                >
              </nb-select>
            </div>
          </div>
          <div class="form-group row">
            <label for="categoryRef" class="label col-sm-3 col-form-label"
              >Choose Categories</label
            >
            <div class="col-sm-9">
              <ng-select
                [items]="categories"
                name="categoryRef"
                [multiple]="true"
                [closeOnSelect]="true"
                [searchable]="true"
                bindLabel="name"
                bindValue="_id"
                [hideSelected]="true"
                placeholder="Select Category"
                [(ngModel)]="storeInfo.categoryRef"
              >
              </ng-select>
            </div>
          </div>
          <div class="form-group row">
            <label for="shortDes" class="label col-sm-3 col-form-label"
              >Short Description</label
            >
            <div class="col-sm-9">
              <ckeditor
                [editor]="Editor"
                [config]="ckConfig"
                [required]="true"
                name="shortDes"
                [(ngModel)]="storeInfo.shortDes"
              ></ckeditor>
            </div>
          </div>
          <div class="form-group row">
            <label for="longDes" class="label col-sm-3 col-form-label"
              >Long Description</label
            >
            <div class="col-sm-9">
              <ckeditor
                [editor]="Editor"
                [config]="ckConfig"
                [required]="true"
                name="longDes"
                [(ngModel)]="storeInfo.longDes"
              ></ckeditor>
            </div>
          </div>
          <div class="row">
            <div class="offset-md-2 com-md-8 text-center">
              <img [src]="croppedImage" class="marginAuto" />
            </div>
          </div>
          <br>
          <div class="form-group row">
            <label for="imge" class="label col-sm-3 col-form-label"
              >Image</label
            >
            <div class="col-sm-9">
              <input
                type="file"
                name="imge"
                (change)="fileChangeEvent($event)"
                required
                [(ngModel)]="imgModel"
                class="custom-file-input"
                accept="image/x-png,image/jpeg"
                aria-describedby="inputGroupFileAddon01"
              />
              <label class="custom-file-label" for="inputGroupFile01"
                >{{ htmlContent }}{{ imgModel }}</label
              >
            </div>
          </div>
          <image-cropper *ngIf="imgModel"
            [imageChangedEvent]="imageChangedEvent"
            [maintainAspectRatio]="true"
            [aspectRatio]="1 / 1"
            outputType="file"
            format="png"
            (imageCropped)="imageCropped($event)"
          >
          </image-cropper>
          <br>
          <div class="form-group row">
            <label for="imgAlt" class="label col-sm-3 col-form-label"
              >Image Alt</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                required
                name="imgAlt"
                [(ngModel)]="storeInfo.imgAlt"
              />
            </div>
          </div>
          <div class="row">
            <div class="offset-md-2 com-md-8 text-center">
              <img [src]="croppedImage2" class="marginAuto" />
            </div>
          </div>
          <br>
          <div class="form-group row">
            <label for="imge2" class="label col-sm-3 col-form-label"
              >Thumbnail Image</label
            >
            <div class="col-sm-9">
              <input
                type="file"
                name="imge2"
                (change)="fileChangeEvent2($event)"
                [(ngModel)]="imgModel2"
                class="custom-file-input"
                accept="image/x-png,image/jpeg"
                aria-describedby="inputGroupFileAddon01"
              />
              <label class="custom-file-label" for="inputGroupFile02"
                >{{ htmlContent2 }}{{ imgModel2 }}</label
              >
            </div>
          </div>
          <image-cropper *ngIf="imgModel2"
            [imageChangedEvent]="imageChangedEvent2"
            [maintainAspectRatio]="false"
            [aspectRatio]="2 / 1"
            outputType="file"
            format="png" backgroundColor="'red'"
            (imageCropped)="imageCropped2($event)"
          >
          </image-cropper>
          <br>
          <div class="form-group row">
            <label for="directUrl" class="label col-sm-3 col-form-label"
              >Direct URL</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                required
                name="directUrl"
                [(ngModel)]="storeInfo.directUrl"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="trackUrl" class="label col-sm-3 col-form-label"
              >Tracking URL</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                required
                name="trackUrl"
                [(ngModel)]="storeInfo.trackUrl"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="metaTitle" class="label col-sm-3 col-form-label"
              >Meta Title</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                required
                name="metaTitle"
                [(ngModel)]="storeInfo.metaTitle"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="metaDes" class="label col-sm-3 col-form-label"
              >Meta Description</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                required
                name="metaDes"
                [(ngModel)]="storeInfo.metaDes"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="metaKeywords" class="label col-sm-3 col-form-label"
              ><b>Meta Keywords</b>&nbsp;(comma separated)</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                required
                name="metaKeywords"
                [(ngModel)]="storeInfo.metaKeywords"
              />
            </div>
          </div>
          <hr />
          <div class="form-group row">
            <label for="fb" class="label col-sm-3 col-form-label"
              >Facebook</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                name="fb"
                [(ngModel)]="storeInfo.fb"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="fb" class="label col-sm-3 col-form-label"
              >Pinterest</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                name="pin"
                [(ngModel)]="storeInfo.pin"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="wik" class="label col-sm-3 col-form-label"
              >Wikipedia</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                name="wik"
                [(ngModel)]="storeInfo.wik"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="twit" class="label col-sm-3 col-form-label"
              >Twitter</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                name="twit"
                [(ngModel)]="storeInfo.twit"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="gplus" class="label col-sm-3 col-form-label"
              >Google Plus</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                name="gplus"
                [(ngModel)]="storeInfo.gplus"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="android" class="label col-sm-3 col-form-label"
              >Android App Link</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                name="android"
                [(ngModel)]="storeInfo.android"
              />
            </div>
          </div>
          <div class="form-group row">
            <label for="ios" class="label col-sm-3 col-form-label"
              >IOS App Link</label
            >
            <div class="col-sm-9">
              <input
                type="text"
                nbInput
                fullWidth
                name="ios"
                [(ngModel)]="storeInfo.ios"
              />
            </div>
          </div>
          <br />
          <div class="validation-checkboxes row justify-content-md-around">
            <nb-checkbox
              status="success"
              name="topStore"
              [(ngModel)]="storeInfo.topStore"
              >Top Store</nb-checkbox
            ><nb-checkbox
              status="danger"
              name="editorChoice"
              [(ngModel)]="storeInfo.editorChoice"
              >Editor's Choice</nb-checkbox
            >
          </div>
          <br />
          <br />
          <div class="form-group row">
            <div class="offset-sm-1 col-sm-11">
              <button
                nbButton
                status="primary"
                size="medium"
                [nbSpinner]="isBusy"
                nbSpinnerStatus="primary"
                nbSpinnerSize="medium"
                [disabled]="!addStoreForm.form.valid || !storeInfo.categoryRef"
                type="submit"
              >
                Save
              </button>
            </div>
          </div>
        </form>
      </nb-card-body>
    </nb-card>
  </div>
</div>
